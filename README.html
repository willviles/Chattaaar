<h1>Chattaaar</h1>

<p>Chattaaar is a multi-page form generator designed to create kick-ass, humanised forms. Inspired by iOS Messages, each question solicits information from the user by treating the process as a conversation, keeping them engaged and moving through your form.</p>

<h2>Getting Started</h2>

<h3>1 - Include Chattaaar after jQuery</h3>

<p>```html</p>

<script src="vendor/jquery.min.js"></script>


<script src="vendor/chattaaar.min.js"></script>


<p>```</p>

<h3>2 - Add the form to your page</h3>

<p><code>html
&lt;form class="chattaaar-container"&gt;&lt;/form&gt;
</code></p>

<h3>3 - Define stages</h3>

<p>An example dictionary of stages:</p>

<p><code>js
var myStages = {
  stage1: {
    title: 'About You',
    type: 'input',
    inputName: 'name',
    question: "What's your name?",
    placeholder: "e.g. Joe Bloggs"
  },
  stage2: {
    title: 'First Impressions',
    type: 'radio',
    inputName: 'first_impressions',
    question: "Right, let's get going &lt;span class='ch-name'&gt;&lt;/span&gt;. What are your first impressions of Chattaaar?",
    options: ['Wowza!', "Pretty swish", 'Okay', 'Could be better', "I don't like it"]
  },
  stage3: {
    title: 'Rate the Rating',
    type: 'rating',
    inputName: 'rating',
    question: "Thanks for being honest. Next up, rate the aesthetic of this ratings widget.",
    skippable: true
  },...
}
</code></p>

<h3>4 - Create a server side mail function</h3>

<p>Here&rsquo;s a very simple php mail function.</p>

<p>```php
&lt;?php
$name = $<em>POST[&lsquo;name&rsquo;];
$email = $</em>POST[&lsquo;email&rsquo;];
&hellip;</p>

<p>$to = &ldquo;your@address.com&rdquo;;
$subject = &ldquo;Message from $name&rdquo;;
$body = &ldquo;Name: $name \n\n Message: \n $message&hellip;&rdquo;;
$from = $email;
$headers = &ldquo;From:&rdquo; . $from;
mail($to,$subject,$body,$headers);
echo &ldquo;sent&rdquo;;
?>
```</p>

<h3>5 - Define form options</h3>

<p>An example dictionary of options:</p>

<p><code>js
var myOptions = {
  formName: 'formName',
  formAction: 'path/to/my-server-side-mail-action.php',
  theme: 'formTheme',
  welcomeText: "What do you think of Chattaaar?",
  welcomeStrapline: "Have a play and submit your thoughts.",
  welcomeImage: '/img/chattaaar-logo.png',
  welcomeImageHeight: '48px',
  welcomeImageWidth: '150px',
  yourName: 'Will',
  yourAvatar: '/img/myavatar.png'
}
</code></p>

<h3>6 - Init Chattaaar</h3>

<p><code>js
$(document).ready(function() {
  $('.chattaaar-container').newChattaaar(
    options = myOptions,
    stages = myStages
  );
});
</code></p>

<hr />

<h2>Options</h2>

<table>
<thead>
<tr>
<th> Option </th>
<th> Type </th>
<th> Default </th>
<th> Description </th>
</tr>
</thead>
<tbody>
<tr>
<td> <strong>formName</strong> </td>
<td> <em>string</em> </td>
<td> ‘form-[RAND]’ </td>
<td> Sets the <form> tag’s name attribute. </td>
</tr>
<tr>
<td> <strong>formAction</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Sets the <form> tag’s action attribute. </td>
</tr>
<tr>
<td> <strong>theme</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Adds a CSS class to the <form> tag setting theme styles. </td>
</tr>
<tr>
<td> <strong>modal</strong> </td>
<td> <em>boolean</em> </td>
<td> FALSE </td>
<td> Setting modal to true will activate modal mode. </td>
</tr>
<tr>
<td> <strong>modalOpenBtn</strong> </td>
<td> <em>string</em> </td>
<td> ‘.chattaaar-open’ </td>
<td> Set the modal opening class. </td>
</tr>
<tr>
<td> <strong>modalContainer</strong> </td>
<td> <em>string</em> </td>
<td> ‘.chattaaar-modal’ </td>
<td> Sets the modal container class. </td>
</tr>
<tr>
<td> <strong>modalFullScreen</strong> </td>
<td> <em>boolean</em> </td>
<td> FALSE </td>
<td> Setting modalFullScreen to true will expand the modal into fullscreen mode, so that none of the page beneath is shown. </td>
</tr>
<tr>
<td> <strong>yourName</strong> </td>
<td> <em>string</em> </td>
<td> ‘Us’ </td>
<td> Changes the name beneath your avatar. </td>
</tr>
<tr>
<td> <strong>yourAvatar</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Add a URL to an image to set the background-image property of your avatar. </td>
</tr>
<tr>
<td> <strong>theirName</strong> </td>
<td> <em>string</em> </td>
<td> ‘You’ </td>
<td> Changes the name beneath their avatar. </td>
</tr>
<tr>
<td> <strong>theirAvatar</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Add an image URL to set the background-image property of their avatar. </td>
</tr>
<tr>
<td> <strong>welcomeTitle</strong> </td>
<td> <em>string</em> </td>
<td> ‘Welcome’ </td>
<td> Changes the welcome title. </td>
</tr>
<tr>
<td> <strong>welcomeStrapline</strong> </td>
<td> <em>string</em> </td>
<td> ‘Please add a strapline’ </td>
<td> Changes the text beneath the welcomeTitle. </td>
</tr>
<tr>
<td> <strong>welcomeTitle</strong> </td>
<td> <em>string</em> </td>
<td> ‘<i class="el-icon-envelope"></i>’ </td>
<td> Sets title in the top bar for the welcome page. By default, it displays an envelope icon. </td>
</tr>
<tr>
<td> <strong>welcomeLogo</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Add an image URL to set the background-image property of the welcome logo. </td>
</tr>
<tr>
<td> <strong>welcomeLogoWidth</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Add a width appended with ‘px’ to define the welcome logo width. </td>
</tr>
<tr>
<td> <strong>welcomeLogoHeight</strong> </td>
<td> <em>string</em> </td>
<td> - </td>
<td> Add a height appended with ‘px’ to define the welcome logo height. </td>
</tr>
<tr>
<td> <strong>startBtnText</strong> </td>
<td> <em>string</em> </td>
<td> ‘Start’ </td>
<td> Sets the text of the start button on the welcome page. </td>
</tr>
<tr>
<td> <strong>nextBtnText</strong> </td>
<td> <em>string</em> </td>
<td> ‘Next’ </td>
<td> Sets the text of every next button. </td>
</tr>
<tr>
<td> <strong>sendBtnText</strong> </td>
<td> <em>string</em> </td>
<td> ‘Send’ </td>
<td> Sets the text of the send button. </td>
</tr>
<tr>
<td> <strong>skipBtnText</strong> </td>
<td> <em>string</em> </td>
<td> ‘Skip’ </td>
<td> Sets the text of the skip button. </td>
</tr>
<tr>
<td> <strong>testMode</strong> </td>
<td> <em>boolean</em> </td>
<td> FALSE </td>
<td> Sets test mode. Will simulate sending the message when a proper form action is not specified or set up correctly. </td>
</tr>
</tbody>
</table>


<hr />

<h2>Stages</h2>

<h3>Default Stage Options</h3>

<p><code>js
stage1: {
  title: 'This is the title', // string - sets the title in the Chattaaar top bar
    type: 'input', // string - name of input type
    inputName: 'input_name', // string - sets the name of the form element. Must be unique to retrieve with your custom email sending function
    question: 'Foo?', // string - sets the question
    placeholder: 'e.g. Bar', // string - sets the placeholder text of the form input.
    skippable: false // boolean - removes validation and allows user to skip section
},
stage2: { ...
</code></p>

<h3>Overview of stage types</h3>

<ul>
<li>Input - <em>Generates a standard form input</em></li>
<li>Email - <em>Generates an email input field &amp; validates for a valid email address</em></li>
<li>Textarea - <em>Generates a textarea</em></li>
<li>Select - <em>Generates a select box with options</em></li>
<li>Checkbox - <em>Generates checkboxes with options</em></li>
<li>Radio - <em>Generates radio buttons with options</em></li>
<li>Country - Generates a select box with a predefined array of countries as select options_</li>
<li>Date - <em>Generates a date input. Must be used in conjunction with jQuery UI Datepicker</em></li>
<li>Rating - <em>Generates a star ratings widget</em></li>
<li>Media - <em>Generates an input field &amp; validates URLs from popular media content sites</em></li>
</ul>


<h3>Inputs</h3>

<p><code>js
{
    type: 'input'
}
</code></p>

<h3>Textareas</h3>

<p><code>js
{
    type: 'textarea'
}
</code></p>

<p>Word and character limits can be set for textareas. Just pass an integer to one of the two parameters.</p>

<p><code>js
{
    wordlimit: 500
    // OR
    charlimit: 140
    // Should NOT be defined together.
}
</code></p>

<h3>Defining Checkboxes, Radio Buttons &amp; Selects</h3>

<p><code>js
{
  // Checkboxes
    type: 'checkbox'
    // OR Radio Buttons
    type: 'radio'
    // OR Select
    type: 'select'
}
</code></p>

<p>Define options for checkboxes, radio buttons and selects in an array.</p>

<p><code>js
{
options: ['First thing', 'Second thing', 'Third thing'],
...
}
</code></p>

<p><em>Idea: For longer arrays, move the array out into a function.</em></p>

<p>```js
function longArray() {
    return [&lsquo;First thing&rsquo;, &lsquo;Second thing&rsquo;, &lsquo;Third thing&rsquo;, &lsquo;Fourth thing&rsquo;, &lsquo;Fifth thing&rsquo;, &lsquo;Sixth thing&rsquo;];
}</p>

<p>// Then you can do&hellip;</p>

<p>{
options: longArray(),
&hellip;
}
```</p>

<h3>Scale</h3>

<p>The <strong>scale</strong> input type adds 5 checkboxes with custom &lsquo;low&rsquo; and &lsquo;high&rsquo; labels.</p>

<p><code>js
{
  type: 'scale',
  placeholders: {
    low: 'Very Dissatisfied',
    hight: 'Very Satisfied'
  }
}
</code></p>

<h3>Country</h3>

<p>Instead of adding a long options array of countries to create a country select, simply use the <strong>country</strong> input type. There is no need to pass an options array.</p>

<p><code>js
{
    type: 'country' //
}
</code></p>

<h3>Full Name</h3>

<p>Instead of creating two input fields for &lsquo;first-name&rsquo; and &lsquo;last-name&rsquo;, the <strong>fullName</strong> input type can be used to capture the respondent&rsquo;s full name naturally by placing two input boxes next to one another.</p>

<p><code>js
{
    type: 'fullName',
    // Instead of accepting a 'placeholder' value, fullName accepts placeholders like this:
    placeholders: {
    firstName: 'First Name',
    lastName: 'Last Name'
  },
  // And instead of accepting an 'inputName' value, accepts input names like this:
  inputNames: {
    firstName: 'foo', // Default: 'first-name'
    lastName: 'bar' // Default: 'last-name'
  }
}
</code></p>

<h3>Date</h3>

<p>Ensure jQuery UI Datepicker is included before Chattaaar, but after jQuery.</p>

<p>```js</p>

<script src="../bower_components/jquery/dist/jquery.min.js"></script>


<script src="../plugin/vendor/jquery-ui/datepicker-custom.min.js"></script>


<script src="../prod/chattaaar-min.js"></script>


<p>```</p>

<p>jQuery UI datepicker settings can be added in an object called &lsquo;datepicker&rsquo;. For example:</p>

<p><code>js
{
    type: 'date',
    datepicker: {
    minDate: -20, maxDate: "+1M +10D"
    // Sets the minimum date to 20 days before today and max date to 1 month and 10 days ahead of today.
    // For full jQuery UI datepicker options, visit: http://jqueryui.com/datepicker/
    }
}
</code></p>

<h3>Media</h3>

<p>Media inputs validate pasted URLs to ensure the correct type of media is entered into the input. Only YouTube &amp; Soundcloud validations are available at the moment.</p>

<p><code>js
{
    type: 'media',
    accepts: ['youtube', 'soundcloud'] // Pass multiple media types into the array.
}
</code></p>

<p><em>Future development: Media input will show a preview of the media when the URL is pasted, akin to the Facebook ‘write status’ box.</em></p>

<hr />

<h2>Passing Context</h2>

<p>Here&rsquo;s an example of adding context to questions:</p>

<p><code>js
stage1: {
    title: 'About Foo',
    type: 'input',
    inputName: 'foo',
    question: "Foo?"
  },
  stage2: {
    question: "Your response to foo: &lt;span class='ch-foo'&gt;&lt;/span&gt;. What about bar?",
    ...
  },
…
</code></p>

<p>Context can only be used in questions in stages AFTER the context is set. Context can be saved and used for inputs, textareas and select boxes.</p>

<hr />

<h2>Other Stage Options</h2>

<h3>Change your avatar mid-form</h3>

<p>A short method to use a different &lsquo;person&rsquo; from your default avatar &amp; name for the defined stage.</p>

<p><code>js
{
    useDifferentPerson: {
        name: '', // string - sets the new person's name,
        avatar: ''// url - path to an avatar image for the person
    }
}
</code></p>

<hr />

<h2>Multiple Chattaaars</h2>

<p>It&rsquo;s really simple to add multiple instances of Chattaaar to a page.</p>

<h3>Add unique classes to form markup</h3>

<p><code>html
&lt;form class="chattaaar-container form-one"&gt;&lt;/form&gt;
&lt;form class="chattaaar-container form-two"&gt;&lt;/form&gt;
</code></p>

<h3>Init on the unique classes</h3>

<p><code>js
$('.form-one').newChattaaar(...);
$('.form-two').newChattaaar(...);
</code></p>

<hr />

<h2>Feedback</h2>

<p>Please use the <a href="http://github.com/willviles/chattaaar/issues" title="Chattaaar Issues">issues</a> for any bugs, feature requests, etc.</p>
